<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>PDF as Data URI</title>
</head>
<body>
    <p></p>
    <object id="pdfViewer" type="application/pdf" width="100%" height="1200px"</object>
    
    <script>
        const pdfUrl = 'https://breast-cancer-info-yakutia.github.io/buklet-screening.pdf';

        // Функция для преобразования ArrayBuffer в строку Base64
        function arrayBufferToBase64(buffer) {
            let binary = '';
            const bytes = new Uint8Array(buffer);
            const len = bytes.byteLength;
            for (let i = 0; i < len; i++) {
                binary += String.fromCharCode(bytes[i]);
            }
            return window.btoa(binary);
        }

        // Загрузка PDF через fetch
        fetch(pdfUrl)
            .then(response => response.arrayBuffer())  // Получение содержимого в виде ArrayBuffer
            .then(buffer => {
                const base64Flag = 'data:application/pdf;base64,';
                const base64String = arrayBufferToBase64(buffer);

                // Вставка PDF в виде Data URI в объекте <object>
                const pdfViewer = document.getElementById('pdfViewer');
                pdfViewer.data = base64Flag + base64String;

            })
            .catch(error => {
                console.error('Ошибка загрузки PDF:', error);
                document.querySelector('p').textContent = 'Ошибка при загрузке PDF.';
            });
    </script>
</body>
</html>

